Image:
  Os: String  # alinux2 | centos7 | centos8 | ubuntu1804
  CustomAmi: ami-12345678
HeadNode:
  InstanceType: t2.micro  # t2.micro
  Networking:
    SubnetId: subnet-12345678  # subnet-xxx
    ElasticIp: String  # true|false|EIP-id
    AssignPublicIp: True  # true|false
    SecurityGroups:
      - sg-12345678
      - sg-23456789
    AdditionalSecurityGroups:
      - sg-34567890
      - sg-45678901
    Proxy:
      HttpProxyAddress: String  # https://proxy-address:port
  Ssh:
    KeyName: ec2-key-name
  Storage:
    RootVolume:
      Size: 40
      Encrypted: true
      KmsKeyId: String
      VolumeType: gp2
      Iops: 100
      Throughput: 150
    EphemeralVolume:
      Encrypted: true
      MountDir: /test
  Dcv:
    Enabled: true
    Port: 8443
    AllowedIps: 0.0.0.0/0
Scheduling:
  Scheduler: slurm
  Queues:
    - Name: queue1
      Networking:
        SubnetIds:
          - subnet-12345678
      ComputeResources:
        - InstanceType: c5.xlarge
        - InstanceType: c4.xlarge
    - Name: queue2
      Networking:
        SubnetIds:
          - subnet-12345678
          - subnet-23456789
        AssignPublicIp: true
        SecurityGroups:
          - sg-12345678
        AdditionalSecurityGroups:
          - sg-23456789
        PlacementGroup:
          Enabled: true
          Id: String
        Proxy:
          HttpProxyAddress: String  # https://proxy-address:port
      ComputeResources:
        - InstanceType: c5.2xlarge
          MaxCount: 5
        - InstanceType: c4.2xlarge
SharedStorage:
  - MountDir: /my/mount/point1
    EBS:
      VolumeType: gp2  # gp2 | gp3 | io1 | io2 | sc1 | st1 | standard
      Iops: 100
      Size: 150
      Encrypted: True
      KmsKeyId: String
      SnapshotId: snap-12345678
      VolumeId: vol-12345678
  - MountDir: /my/mount/point2
    EFS:
      ThroughputMode: provisioned  # bursting | provisioned
      ProvisionedThroughput: 1024
IAM:
  Roles:
    HeadNode: String  # arn:aws:iam::aws:role/CustomHeadNodeRole
    ComputeNode: String  # arn:aws:iam::aws:role/CustomComputeNodeRole
    CustomLambdaResources: String  # arn:aws:iam::aws:role/CustomResourcesLambdaRole
  S3Access:
    - BucketName: String
      Type: String # READ_ONLY | READ_WRITE
  AdditionalIAMPolicies:
    - Policy: String  # arn:aws:iam::aws:policy/AdministratorAccess
      Scope: String  # HEAD | COMPUTE | CLUSTER
    - Policy: policy2
      Scope: other
Monitoring:
  DetailedMonitoring: true  # false
  Logs:
    CloudWatch:
      Enabled: true  # true
      RetentionInDays: 15  # 14
      LogGroupId: String
      KmsKeyId: String
  Dashboards:
    CloudWatch:
      Enabled: true  # true
Tags:
  - Key: String
    Value: String
  - Key: two
    Value: two22